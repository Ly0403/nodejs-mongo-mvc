<%- include ('nav.ejs') %>
<title>Products</title>
<div class="content">
  <h2>Product List</h2>

  <input
    type="text"
    id="key"
    class="form-control"
    placeholder="Search"
    onkeyup="searchProduct()"
  />
  <br />

  <ul id="item-list" class="list-group list-group-striped">
    <% productList %> <% for(let i = 0; i < productList.length; i++) { %>
    <li class="list-group-item">
      <b>
        Product Name: <%=productList[i].productName%> <hr>Product Price:
        <%=productList[i].price%> <hr>Product Amount: <%=productList[i].stock%>
      </b>
    </li>
    <% } %>
  </ul>
</div>
    

    <script src="js/bootstrap.bundle.min.js"></script>

    <script>
      function searchProduct() {
        var input, filter, ul, li, a, i, txtValue;
        input = document.getElementById("key");
        key = input.value.toUpperCase();
        ul = document.getElementById("item-list");
        li = ul.getElementsByTagName("li");
        for (i = 0; i < li.length; i++) {
          b = li[i].getElementsByTagName("b")[0];
          txtValue = b.textContent || b.innerText;
          if (txtValue.toUpperCase().indexOf(key) > -1) {
            li[i].style.display = "";
          } else {
            li[i].style.display = "none";
          }
        }
      }
    </script>
  </body>
</html>
